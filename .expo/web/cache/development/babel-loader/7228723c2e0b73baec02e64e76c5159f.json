{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = AddItem;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeDatepicker = _interopRequireDefault(require(\"react-native-datepicker\"));\n\nvar _reactNativeElements = require(\"react-native-elements\");\n\nvar _firebase = require(\"../../config/firebase\");\n\nvar _jsxFileName = \"/Users/lucas/Desktop/aulaReact1502/rn-firebase-crud/src/screens/AddItem/index.js\";\n\nvar addItem = function addItem(item) {\n  _firebase.db.ref('/items').push({\n    fantasia: item.fantasia,\n    cpfcnpj: item.cpfcnpj,\n    razao: item.razao,\n    diaVencimento: item.diaVencimento,\n    dataPagamento: item.dataPagamento,\n    dataConexao: item.dataConexao,\n    situacao: item.situacao\n  });\n};\n\nvar updateItem = function updateItem(item) {\n  console.log(item);\n\n  _firebase.db.ref('/items/' + item.key).update({\n    fantasia: item.fantasia,\n    cpfcnpj: item.cpfcnpj,\n    razao: item.razao,\n    diaVencimento: item.diaVencimento,\n    dataPagamento: item.dataPagamento,\n    dataConexao: item.dataConexao,\n    situacao: item.situacao\n  });\n};\n\nfunction AddItem(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      fantasia = _useState2[0],\n      setFantasia = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(''),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      cpfcnpj = _useState4[0],\n      setCpfcnpj = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(''),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      razao = _useState6[0],\n      setRazao = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(''),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      diaVencimento = _useState8[0],\n      setDiaVencimento = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(''),\n      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n      dataPagamento = _useState10[0],\n      setDataPagamento = _useState10[1];\n\n  var _useState11 = (0, _react.useState)(''),\n      _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n      dataConexao = _useState12[0],\n      setDataConexao = _useState12[1];\n\n  var _useState13 = (0, _react.useState)(true),\n      _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n      situacao = _useState14[0],\n      setSituacao = _useState14[1];\n\n  var _useState15 = (0, _react.useState)(''),\n      _useState16 = (0, _slicedToArray2.default)(_useState15, 2),\n      key = _useState16[0],\n      setKey = _useState16[1];\n\n  function handleSubmit() {\n    var item = {\n      key: key,\n      fantasia: fantasia,\n      cpfcnpj: cpfcnpj,\n      razao: razao,\n      diaVencimento: diaVencimento,\n      dataPagamento: dataPagamento,\n      dataConexao: dataConexao,\n      situacao: situacao\n    };\n\n    if (item.dataPagamento && item.cpfcnpj) {\n      if (item.key) {\n        updateItem(item);\n\n        _reactNative.Alert.alert('Registro atualizado com sucesso');\n      } else {\n        addItem(item);\n\n        _reactNative.Alert.alert('Registro salvo com sucesso');\n      }\n    } else {\n      _reactNative.Alert.alert('Por favor preencha todos os campos');\n    }\n  }\n\n  (0, _react.useEffect)(function () {\n    if (route.params.item) {\n      var item = route.params.item;\n      setFantasia(item.fantasia);\n      setCpfcnpj(item.cpfcnpj);\n      setRazao(item.razao);\n      setDiaVencimento(item.diaVencimento);\n      setDataConexao(item.dataConexao);\n      setDataPagamento(item.dataPagamento);\n      setSituacao(item.situacao);\n      setKey(item.key);\n    }\n  }, []);\n  return _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNativeElements.Header, {\n    centerComponent: {\n      text: 'Sistema de Licen√ßas',\n      style: {\n        color: '#fff'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNativeElements.Input, {\n    label: \"Fantasia\",\n    value: fantasia,\n    onChangeText: function onChangeText(text) {\n      return setFantasia(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNativeElements.Input, {\n    label: \"Raz\\xE3o Social\",\n    value: razao,\n    onChangeText: function onChangeText(text) {\n      return setRazao(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNativeElements.Input, {\n    label: \"CPF/CNPJ\",\n    keyboardType: \"numeric\",\n    value: cpfcnpj,\n    onChangeText: function onChangeText(text) {\n      return setCpfcnpj(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNativeElements.Input, {\n    label: \"Dia Vencimento\",\n    keyboardType: \"numeric\",\n    value: diaVencimento,\n    onChangeText: function onChangeText(text) {\n      return setDiaVencimento(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, \"Situa\\xE7\\xE3o\"), _react.default.createElement(_reactNativeElements.CheckBox, {\n    checked: situacao,\n    iconType: \"material\",\n    checkedIcon: \"clear\",\n    uncheckedIcon: \"add\",\n    checkedColor: \"red\",\n    onValueChange: setSituacao,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_reactNative.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, situacao ? 'Ativo' : 'Inativo')), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, \"Data de Pagamento\"), _react.default.createElement(_reactNativeDatepicker.default, {\n    date: dataPagamento,\n    format: \"DD-MM-YYYY\",\n    onDateChange: function onDateChange(date) {\n      return setDataPagamento(date);\n    },\n    customStyles: {\n      dateIcon: {\n        position: 'absolute',\n        left: 0,\n        top: 4,\n        marginLeft: 0\n      },\n      dateInput: {\n        marginLeft: 36\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, \"Data da \\xDAltima Conex.\"), _react.default.createElement(_reactNativeDatepicker.default, {\n    date: dataConexao,\n    format: \"DD-MM-YYYY\",\n    onDateChange: function onDateChange(date) {\n      return setDataConexao(date);\n    },\n    customStyles: {\n      dateIcon: {\n        position: 'absolute',\n        left: 0,\n        top: 4,\n        marginLeft: 0\n      },\n      dateInput: {\n        marginLeft: 36\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_reactNative.Button, {\n    title: key ? 'Atualizar' : 'Adicionar',\n    onPress: function onPress() {\n      return handleSubmit();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/lucas/Desktop/aulaReact1502/rn-firebase-crud/src/screens/AddItem/index.js"],"names":["addItem","item","db","ref","push","fantasia","cpfcnpj","razao","diaVencimento","dataPagamento","dataConexao","situacao","updateItem","console","log","key","update","AddItem","navigation","route","setFantasia","setCpfcnpj","setRazao","setDiaVencimento","setDataPagamento","setDataConexao","setSituacao","setKey","handleSubmit","Alert","alert","params","text","style","color","date","dateIcon","position","left","top","marginLeft","dateInput"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { View, Alert, Button, Text } from 'react-native';\nimport DatePicker from 'react-native-datepicker';\nimport { Input } from 'react-native-elements';\nimport { Header, CheckBox } from 'react-native-elements';\n\nimport { db } from '../../config/firebase';\nimport { useEffect } from 'react';\n\nlet addItem = (item) => {\n  db.ref('/items').push({\n    fantasia: item.fantasia,\n    cpfcnpj: item.cpfcnpj,\n    razao: item.razao,\n    diaVencimento: item.diaVencimento,\n    dataPagamento: item.dataPagamento,\n    dataConexao: item.dataConexao,\n    situacao: item.situacao,\n  });\n};\n\nlet updateItem = (item) => {\n  console.log(item);\n  db.ref('/items/' + item.key).update({\n    fantasia: item.fantasia,\n    cpfcnpj: item.cpfcnpj,\n    razao: item.razao,\n    diaVencimento: item.diaVencimento,\n    dataPagamento: item.dataPagamento,\n    dataConexao: item.dataConexao,\n    situacao: item.situacao,\n  });\n};\n\nexport default function AddItem({ navigation, route }) {\n  const [fantasia, setFantasia] = useState('');\n  const [cpfcnpj, setCpfcnpj] = useState('');\n  const [razao, setRazao] = useState('');\n  const [diaVencimento, setDiaVencimento] = useState('');\n  const [dataPagamento, setDataPagamento] = useState('');\n  const [dataConexao, setDataConexao] = useState('');\n  const [situacao, setSituacao] = useState(true);\n  const [key, setKey] = useState('');\n\n  function handleSubmit() {\n    let item = {\n      key: key,\n      fantasia: fantasia,\n      cpfcnpj: cpfcnpj,\n      razao: razao,\n      diaVencimento: diaVencimento,\n      dataPagamento: dataPagamento,\n      dataConexao: dataConexao,\n      situacao: situacao,\n    };\n    if (item.dataPagamento && item.cpfcnpj) {\n      if (item.key) {\n        updateItem(item);\n        Alert.alert('Registro atualizado com sucesso');\n      } else {\n        addItem(item);\n        Alert.alert('Registro salvo com sucesso');\n      }\n    } else {\n      Alert.alert('Por favor preencha todos os campos');\n    }\n  }\n\n  useEffect(() => {\n    if (route.params.item) {\n      let item = route.params.item;\n      setFantasia(item.fantasia);\n      setCpfcnpj(item.cpfcnpj);\n      setRazao(item.razao);\n      setDiaVencimento(item.diaVencimento);\n      setDataConexao(item.dataConexao);\n      setDataPagamento(item.dataPagamento);\n      setSituacao(item.situacao);\n      setKey(item.key);\n    }\n  }, []);\n\n  return (\n    <View>\n      <Header\n        centerComponent={{\n          text: 'Sistema de Licen√ßas',\n          style: { color: '#fff' },\n        }}\n      />\n      <View>\n        <Input\n          label=\"Fantasia\"\n          value={fantasia}\n          onChangeText={(text) => setFantasia(text)}\n        />\n      </View>\n      <View>\n        <Input\n          label=\"Raz√£o Social\"\n          value={razao}\n          onChangeText={(text) => setRazao(text)}\n        />\n      </View>\n      <View>\n        <Input\n          label=\"CPF/CNPJ\"\n          keyboardType=\"numeric\"\n          value={cpfcnpj}\n          onChangeText={(text) => setCpfcnpj(text)}\n        />\n      </View>\n      <View>\n        <Input\n          label=\"Dia Vencimento\"\n          keyboardType=\"numeric\"\n          value={diaVencimento}\n          onChangeText={(text) => setDiaVencimento(text)}\n        />\n      </View>\n      <View>\n        <Text>Situa√ß√£o</Text>\n        <CheckBox\n          checked={situacao}\n          iconType=\"material\"\n          checkedIcon=\"clear\"\n          uncheckedIcon=\"add\"\n          checkedColor=\"red\"\n          onValueChange={setSituacao}\n        />\n        <Text>{situacao ? 'Ativo' : 'Inativo'}</Text>\n      </View>\n      <View>\n        <Text>Data de Pagamento</Text>\n        <DatePicker\n          date={dataPagamento}\n          format=\"DD-MM-YYYY\"\n          onDateChange={(date) => setDataPagamento(date)}\n          customStyles={{\n            dateIcon: {\n              position: 'absolute',\n              left: 0,\n              top: 4,\n              marginLeft: 0,\n            },\n            dateInput: {\n              marginLeft: 36,\n            },\n          }}\n        />\n      </View>\n      <View>\n        <Text>Data da √öltima Conex.</Text>\n        <DatePicker\n          date={dataConexao}\n          format=\"DD-MM-YYYY\"\n          onDateChange={(date) => setDataConexao(date)}\n          customStyles={{\n            dateIcon: {\n              position: 'absolute',\n              left: 0,\n              top: 4,\n              marginLeft: 0,\n            },\n            dateInput: {\n              marginLeft: 36,\n            },\n          }}\n        />\n      </View>\n      <Button\n        title={key ? 'Atualizar' : 'Adicionar'}\n        onPress={() => handleSubmit()}></Button>\n    </View>\n  );\n}\n"]},"metadata":{},"sourceType":"script"}