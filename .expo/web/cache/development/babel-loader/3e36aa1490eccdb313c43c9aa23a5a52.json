{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Lista;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeElements = require(\"react-native-elements\");\n\nvar _ItemList = _interopRequireDefault(require(\"../../components/ItemList\"));\n\nvar _firebase = require(\"../../config/firebase\");\n\nvar _jsxFileName = \"/Users/lucas/Desktop/aulaReact1502/rn-firebase-crud/src/screens/Lista/index.js\";\n\nfunction Lista(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  (0, _react.useEffect)(function () {\n    _firebase.db.ref('/items').on('value', function (snapshot) {\n      var li = [];\n      snapshot.forEach(function (child) {\n        li.push({\n          key: child.key,\n          razao: child.val().razao,\n          cpfcnpj: child.val().cpfcnpj,\n          fantasia: child.val().fantasia,\n          situacao: child.val().situacao,\n          dataPagamento: child.val().dataPagamento,\n          dataConexao: child.val().dataConexao,\n          diaVencimento: child.val().diaVencimento\n        });\n      });\n      console.log(li);\n      setItems(li);\n      console.log(items.length);\n    });\n  }, []);\n  return _react.default.createElement(_reactNative.View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNativeElements.Header, {\n    centerComponent: {\n      text: 'Sistema de Licenças',\n      style: {\n        color: '#fff'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), items.length > 0 ? _react.default.createElement(_reactNative.FlatList, {\n    data: items,\n    keyExtractor: function keyExtractor(item) {\n      return item.key;\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return _react.default.createElement(_reactNative.View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_ItemList.default, {\n        items: items,\n        navigation: navigation,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }) : _react.default.createElement(_reactNative.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Sem itens\"));\n}","map":{"version":3,"sources":["/Users/lucas/Desktop/aulaReact1502/rn-firebase-crud/src/screens/Lista/index.js"],"names":["Lista","navigation","items","setItems","db","ref","on","snapshot","li","forEach","child","push","key","razao","val","cpfcnpj","fantasia","situacao","dataPagamento","dataConexao","diaVencimento","console","log","length","text","style","color","item"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAEA;;;;AAEe,SAASA,KAAT,OAA+B;AAAA;;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAAA,kBAClB,qBAAS,EAAT,CADkB;AAAA;AAAA,MACrCC,KADqC;AAAA,MAC9BC,QAD8B;;AAG5C,wBAAU,YAAM;AACdC,iBAAGC,GAAH,CAAO,QAAP,EAAiBC,EAAjB,CAAoB,OAApB,EAA6B,UAACC,QAAD,EAAc;AACzC,UAAIC,EAAE,GAAG,EAAT;AACAD,MAAAA,QAAQ,CAACE,OAAT,CAAiB,UAACC,KAAD,EAAW;AAC1BF,QAAAA,EAAE,CAACG,IAAH,CAAQ;AACNC,UAAAA,GAAG,EAAEF,KAAK,CAACE,GADL;AAENC,UAAAA,KAAK,EAAEH,KAAK,CAACI,GAAN,GAAYD,KAFb;AAGNE,UAAAA,OAAO,EAAEL,KAAK,CAACI,GAAN,GAAYC,OAHf;AAINC,UAAAA,QAAQ,EAAEN,KAAK,CAACI,GAAN,GAAYE,QAJhB;AAKNC,UAAAA,QAAQ,EAAEP,KAAK,CAACI,GAAN,GAAYG,QALhB;AAMNC,UAAAA,aAAa,EAAER,KAAK,CAACI,GAAN,GAAYI,aANrB;AAONC,UAAAA,WAAW,EAAET,KAAK,CAACI,GAAN,GAAYK,WAPnB;AAQNC,UAAAA,aAAa,EAAEV,KAAK,CAACI,GAAN,GAAYM;AARrB,SAAR;AAUD,OAXD;AAYAC,MAAAA,OAAO,CAACC,GAAR,CAAYd,EAAZ;AACAL,MAAAA,QAAQ,CAACK,EAAD,CAAR;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYpB,KAAK,CAACqB,MAAlB;AACD,KAjBD;AAkBD,GAnBD,EAmBG,EAnBH;AAqBA,SACE,6BAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,6BAAC,2BAAD;AACE,IAAA,eAAe,EAAE;AACfC,MAAAA,IAAI,EAAE,qBADS;AAEfC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT;AAFQ,KADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOGxB,KAAK,CAACqB,MAAN,GAAe,CAAf,GACC,6BAAC,qBAAD;AACE,IAAA,IAAI,EAAErB,KADR;AAEE,IAAA,YAAY,EAAE,sBAACyB,IAAD;AAAA,aAAUA,IAAI,CAACf,GAAf;AAAA,KAFhB;AAGE,IAAA,UAAU,EAAE,2BAAc;AAAA,UAAXe,IAAW,SAAXA,IAAW;AACxB,aACE,6BAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,6BAAC,iBAAD;AAAU,QAAA,KAAK,EAAEzB,KAAjB;AAAwB,QAAA,UAAU,EAAED,UAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKD,KATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAaC,6BAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBApBJ,CADF;AAyBD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, FlatList } from 'react-native';\nimport { Header, SafeAreaView } from 'react-native-elements';\n\nimport ItemList from '../../components/ItemList';\n\nimport { db } from '../../config/firebase';\n\nexport default function Lista({ navigation }) {\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    db.ref('/items').on('value', (snapshot) => {\n      var li = [];\n      snapshot.forEach((child) => {\n        li.push({\n          key: child.key,\n          razao: child.val().razao,\n          cpfcnpj: child.val().cpfcnpj,\n          fantasia: child.val().fantasia,\n          situacao: child.val().situacao,\n          dataPagamento: child.val().dataPagamento,\n          dataConexao: child.val().dataConexao,\n          diaVencimento: child.val().diaVencimento,\n        });\n      });\n      console.log(li);\n      setItems(li);\n      console.log(items.length);\n    });\n  }, []);\n\n  return (\n    <View>\n      <Header\n        centerComponent={{\n          text: 'Sistema de Licenças',\n          style: { color: '#fff' },\n        }}\n      />\n      {items.length > 0 ? (\n        <FlatList\n          data={items}\n          keyExtractor={(item) => item.key}\n          renderItem={({ item }) => {\n            return (\n              <View>\n                <ItemList items={items} navigation={navigation} />\n              </View>\n            );\n          }}\n        />\n      ) : (\n        <Text>Sem itens</Text>\n      )}\n    </View>\n  );\n}\n"]},"metadata":{},"sourceType":"script"}